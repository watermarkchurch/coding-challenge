<div class="w-full px-4 py-8">
  <% if notice %>
    <p class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6"><%= notice %></p>
  <% end %>

  <%= render @message %>

  <% if @message.thumbnail.attached? %>
    <%= image_tag @message.thumbnail %>
  <% end %>

  <% if @message.media.attached? %>
    <% if @message.media.content_type.include?('video') %>
      <%= video_tag url_for(@message.media), controls: true %>
    <% else %>
      <%= audio_tag url_for(@message.media), controls: true %>
    <% end %>
  <% end %>

  <div class="mt-8 grid grid-cols-2 gap-4">
    <div class="flex space-x-4">
      <%= link_to "Edit this message", edit_message_path(@message), class: "text-blue-600 hover:text-blue-800" %>
      <%= link_to "Back to messages", messages_path, class: "text-blue-600 hover:text-blue-800" %>
    </div>
    
    <div class="text-right">
      <%= button_to "Destroy this message", @message, 
          method: :delete,
          class: "bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",
          form: { class: "inline-block" } %>
    </div>
  </div>
</div>
